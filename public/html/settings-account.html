<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">    
    <title>Fresher</title>
    <link rel="icon" type="image/x-icon" href="../icons/other/fresherfavicon.ico">

    <!-- MARK: Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap" rel="stylesheet">
    
    <!--MARK: CSS -->
    <!-- layout -->
    <link rel="stylesheet" href="../css/layout/main-body.css">
    <link rel="stylesheet" href="../css/layout/true-body.css">
    <link rel="stylesheet" href="../css/layout/settings-main.css">
    <link rel="stylesheet" href="../css/test.css">

    <!-- components -->
    <link rel="stylesheet" href="../css/components/comp-navbar.css">
    <link rel="stylesheet" href="../css/components/comp-header.css">
    <link rel="stylesheet" href="../css/components/comp-buttons.css">
    <link rel="stylesheet" href="../css/components/comp-titlebar.css">
    <link rel="stylesheet" href="../css/components/comp-cards.css">
    <link rel="stylesheet" href="../css/components/comp-batteredheader.css">
    <link rel="stylesheet" href="../css/components/comp-controls.css">

    <script src="https://cdn.jsdelivr.net/npm/appwrite@14.0.1"></script>
    <script  src="../scripts/loginCheck.js" type="module" defer></script>
    
    <script src="../scripts/account-settings.js" type="module"></script>
    

    <style>
        .loadable-content {
            visibility: hidden;
        }
    </style>
    
</head>
<body class="main-body">
    <!-- Navbar -->
    <nav class="comp-navbar"> 
        <!-- Home -->
        <a title="Home feed" class="comp-navbar-icon-default" href="../html/feed.html">
            <img src="../icons/navbar/home.svg" class="comp-navbar-svg" alt="Home icon">
        </a>
        <!-- RSS -->
        <a title="RSS Settings" class="comp-navbar-icon-default" href="../html/settings-rss.html">
            <img src="../icons/navbar/rss.svg" class="comp-navbar-svg" alt="RSS settings icon">
        </a>
        <!-- Settings -->
        <a title="Settings" class="comp-navbar-icon-default" href="../html/settings-home.html">
            <img src="../icons/navbar/settings.svg" class="comp-navbar-svg" alt="General settings icon">
        </a>
        <!-- Account -->
        <a title="Account Settings" class="comp-navbar-icon-default" href="../html/settings-account.html" style="background-color: rgba(4, 86, 1, 0.1);">
            <img src="../icons/buttons/account.svg" class="comp-navbar-svg" alt="Account profile picture">
        </a>
    </nav>

    <div class="true-body">
        <!-- Titlebar with "Fresher" -->
        <header class="titlebar-container">
            <img src="../icons/other/logo.svg" alt="Fresher Logo">
        </header>

        <!-- Container that holds the settings, also acts as a form -->
        <form action="/api/editAccountSettings" method="POST" enctype="multipart/form-data" class="settings-container">

            <input type="hidden" id="google-id" name="google_id" value=""> <!-- Send google ID of user to server on form submit -->

            <!-- Header section -->
            <div class="header-with-breadcrumb">
                <div class="breadcrumb-container">
                    <a href="../html/settings-home.html" class="breadcrumb-container-text" title="Jump to settings home">Settings</a>
                </div>
                <div class="header-container">
                    <img src="../icons/batteredheader/address.svg" alt="A non-functional arrow pointing towards the page heading.">
                    <p class="header-container-text">Account</p>
                </div>
            </div>

            <img src="../images/loader.gif" style="align-self: center; width: 150px;" id="loader" alt="Gif signaling waiting for content to load">


            
            <!-- Change account name -->
            <div class="basic-control-wrapper loadable-content">
                <label class="control-label" for="acc-name">Account name</label>
                <input class="textbox" id="acc-name" name="account_name" placeholder="Loading...">
            </div>

            <!-- Submit and cancel buttons -->
            <div class="horizontal-button-container loadable-content">
                <!-- Submit -->
                <input class="submit-button" type="submit" value="Save" title="Save">

                <!-- Cancel button -->
                <a class="button-tonal" href="../html/settings-home.html" title="Cancel"> <!-- Cantarella, A (2019) Pure HTML Back Button, Accessed Jan 2 2025 https://stackoverflow.com/questions/57361403/pure-html-back-button -->
                    <img src="../icons/buttons/cancel.svg" class="button-icon">
                    <p class="button-tonal-text">Cancel</p>
                </a>
            </div>

            <!-- Reset account button (doesn't submit data) -->
            <div class="basic-control-wrapper loadable-content" style="display:flex; flex-direction: column; gap:10px" title="Unlink your Fresher account from Google">
                <label class="control-label">More options</label>
                <a class="button-caution" target="_blank" href="https://myaccount.google.com/connections/details/ATTSlxbnE6910F6qy8CCt76-jaBMgVEkGMuUYUD51TdbgDqkV_yQkXUhE4LEQxSzrC_7CD6DNh823ZpIS1Tz7qW5oeY/siwg/ATTSlxZ1gEu9ufsL4CD5OUeS7ho0V_KkCq5LxqxqZFt7n852O9XmSUQ6hrmY6Lr33HJ7chmt1zJxoCtf1EC0AWIJ">
                    <img src="../icons/buttons/bin.svg" class="button-icon">
                    <p class="button-caution-text">Unlink Google account</p>
                </a>

                <div class="basic-control-wrapper loadable-content" style="display:flex; flex-direction: column; gap:10px" title="Go to logout screen">
                    <a class="button-dark" href="..">
                        <img src="../icons/buttons/Logout.svg" class="button-icon">
                        <p class="button-dark-text" style="text-decoration: none;">Go to logout</p>
                    </a>
                </div>
            </div>

            

            
            
        </form>
    </div>
</body>
</html>